  
<style type="text/css">
 
</style>

 
  <div class="row ">
  
      <div class="col-md-6 " align="" style="color:;padding:0% 2% 5% 0%;">
      <div class="box-sdow" align="" style="color:;padding:5% 3% 1% 1%;">
      <div class="col-md-12 body-data" style="padding-bottom:0px;"> <h3><i class="fa fa-fw fa-archive"></i> &nbsp;&nbsp;Setup Class Batches</h3></div>
     

      <div id="" class="col-md-12 " align="" style="height:445px; overflow-x:hidden;overflow-y:scroll; display:;">
        <div class="respopad40">

           <div class="form-group" style="padding-top:10px;">
           <span id="graysub" type="" data-toggle="modal" data-target="#chossubj" style="color:#606060;cursor: pointer;"><i class="fa fa-fw fa-check-circle" ></i> Choose subjects <i class="fa fa-fw fa-chevron-down" style="font-size:12px"></i></span> 
           <span id="grnsub" type="" data-toggle="modal" data-target="#chossubj" style="display:none;cursor: pointer;"><i class="fa fa-fw fa-check-circle" style="color:#399700;"></i> Choose subjects <i class="fa fa-fw fa-chevron-down" style="font-size:12px"></i></span>
         
          </div>

           <div class="form-group">
            <label for="entersub" class="">Enter Class Batch Title</label>
            <input type="text" class="form-control" id="classname" placeholder="Type here..">
            <small class="form-text text-muted">Ex. Bio. batch 1</small>
            <input type="hidden" value="0" id="clasuid">
          </div>

           

           <div class="form-group">
           <table width="100%">
             <tr>
               <td  width="50%" style="padding-bottom:20px;">
                    <div class="checkbox">
                      <label style="color:#000">
                        <input type="checkbox" value="Monday" id="monday" class="allchkdy"> Monday
                      </label>
                    </div>
                    <div class="form-group">
                    <input type="text" class="cus-input" id="monday_time" placeholder="ex. 16:30" style="width:100px;">
                    </div>
               </td>
               <td width="20">--</td>
               <td align="right">
                <div class="form-group">
                    <input type="text" class="cus-input" id="monday_time_to" placeholder="ex. 18:30" style="width:100px;" >
                    </div>
               </td>
                </tr>
             <tr>
               <td  width="50%" style="padding-bottom:20px;">
                    <div class="checkbox">
                      <label style="color:#000">
                        <input type="checkbox" id="tuesday" value="Tuesday" class="allchkdy"> Tuesday
                      </label>
                    </div>
                     <div class="form-group">
                    <input type="text" class="cus-input" id="tuesday_time" placeholder="ex. 16:30" style="width:100px;" >
                    </div>
               </td>
                <td width="20">--</td>
                <td align="right">
                  <div class="form-group">
                    <input type="text" class="cus-input" id="tuesday_time_to" placeholder="ex. 18:30" style="width:100px;" >
                    </div>
                </td>
             </tr>
             <tr>
               <td  width="50%" style="padding-bottom:20px;">
                    <div class="checkbox">
                      <label style="color:#000">
                        <input type="checkbox" id="wednesday" value="Wednesday" class="allchkdy"> Wednesday
                      </label>
                    </div>
                    <div class="form-group">
                    <input type="text" class="cus-input" id="wednesday_time" placeholder="ex. 16:30" style="width:100px;"/>
                    </div>
               </td>
                <td width="20">--</td>
                 <td align="right">
                <div class="form-group">
                    <input type="text" class="cus-input" id="wednesday_time_to" placeholder="ex. 18:30" style="width:100px;"/>
                    </div>
                </td>
                </tr>
             <tr>
               <td  width="50%" style="padding-bottom:20px;">
                    <div class="checkbox">
                      <label style="color:#000">
                        <input type="checkbox" id="thursday" value="Thursday" class="allchkdy"> Thursday
                      </label>
                    </div>
                     <div class="form-group">
                    <input type="text" class="cus-input" id="thursday_time" placeholder="ex. 16:30" style="width:100px;"/>
                    </div>
               </td>
                <td width="20">--</td>
                 <td align="right">
                <div class="form-group">
                    <input type="text" class="cus-input" id="thursday_time_to" placeholder="ex. 18:30" style="width:100px;"/>
                    </div>
                </td>
             </tr>
             <tr>
               <td  width="50%" style="padding-bottom:20px;">
                    <div class="checkbox">
                      <label style="color:#000">
                        <input type="checkbox" id="friday" value="Friday" class="allchkdy"> Friday
                      </label>
                    </div>
                    <div class="form-group">
                    <input type="text" class="cus-input" id="friday_time" placeholder="ex. 16:30" style="width:100px;"/>
                    </div>
               </td>
                <td width="20">--</td>
                 <td align="right">
                 <div class="form-group">
                    <input type="text" class="cus-input" id="friday_time_to" placeholder="ex. 18:30" style="width:100px;"/>
                    </div>
                </td>
                </tr>
             <tr>
               <td  width="50%" style="padding-bottom:20px;">
                    <div class="checkbox">
                      <label style="color:#000">
                        <input type="checkbox" id="saturday" value="Saturday" class="allchkdy"> Saturday
                      </label>
                    </div>
                     <div class="form-group">
                    <input type="text" class="cus-input" id="saturday_time" placeholder="ex. 16:30" style="width:100px;"/>
                    </div>
               </td>
               <td width="20">--</td>
                <td align="right">
                 <div class="form-group">
                    <input type="text" class="cus-input" id="saturday_time_to" placeholder="ex. 18:30" style="width:100px;"/>
                    </div>
                </td>
             </tr>
             <tr>
               <td  width="50%" style="padding-bottom:20px;">
                    <div class="checkbox">
                      <label style="color:#000">
                        <input type="checkbox" id="sunday" value="Sunday" class="allchkdy"> Sunday
                      </label>
                    </div>
                    <div class="form-group">
                    <input type="text" class="cus-input" id="sunday_time" placeholder="ex. 16:30" style="width:100px;"/>
                    </div>
               </td>
                <td width="20">--</td>
                 <td align="right">
                 <div class="form-group">
                    <input type="text" class="cus-input" id="sunday_time_to" placeholder="ex. 18:30" style="width:100px;"/>
                    </div>
                </td>
                </tr>
             
           </table>
           </div>

          
        </div>
      </div>
      <div class="col-md-12" style="padding-top:10px">
      <button id="letmaketimary" class="btn btn-primary btn-raised">Submit</button>
      </div>
      </div>
      </div>

     <div class="col-md-6" align="" style="color:;padding:0% 0% 5% 0%; ">
      <div class="box-sdow" align="" style="color:;padding:5% 0% 5% 1%;">
      <div class="col-md-12 body-data" style="padding-bottom:10px;"> <h3><i class="fa fa-fw fa-magic"></i> &nbsp;&nbsp;All Settled classes </h3></div>
      <div id="myclaslist" class="col-md-12  " align="" style="height:460px; overflow-x:hidden;overflow-y:scroll;">
     
      
      </div>
      </div> 
      </div> 
    </div>



    <!-- Modal -->
<div class="modal fade" id="chossubj" tabindex="-1" role="dialog" aria-labelledby="chossubj" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Choose subject</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="mysublist" style="height:400px; overflow-x:hidden;overflow-y:scroll;">
        
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
       
      </div>
    </div>
  </div>
</div>

 <script>$(document).ready(function() { $('div').bootstrapMaterialDesign(); });</script>

    <script type="text/javascript">
   $(document).ready(function() {
           // $("#allcours-val").load('<?php echo base_url()."dashboard/institue_allcourdef/0"; ?>');
             $("#mysublist").load('<?php echo base_url()."dashboard/mysubjectlist"; ?>');
             $("#myclaslist").load('<?php echo base_url()."dashboard/myclaslist"; ?>');

           ///  $('#monday').prop("checked", true);

       
 });


function savetime(){ 
 // console.log(subjarr);
 // console.log(timearry);
     var clstitle = $('#classname').val();
     var clasuid = $('#clasuid').val();
       

  if(!clstitle || !subjarr || timearry.length <= 0){

  }else{
       
  $('#fielderror').hide();
            $('#chkmsg').hide();
           $('#alert-wait').show();
                  var dataString = 'clstitle='+ clstitle+'&clasuid='+ clasuid+'&subjarr='+ subjarr+'&timearry='+ timearry;
               console.log("class added");
            jQuery.ajax({
              type: "POST",
              url: base_url +'dashboard/Class_slot',
              data: dataString,
              dataType: 'json',
              cache: false,
              success: function(response)
              {
                if(response.status == 200){ 
                
                 $("#myclaslist").load('<?php echo base_url()."dashboard/myclaslist"; ?>');
                  $('#classname').val('');
                  $('.cus-input').val('');
                  $('#clasuid').val('0');
                  $('.allchkdy').prop("checked", false);
                  $('#grnsub').hide();
                  $('#graysub').show();
                    subjarr = '';
                     timearry = new Array();

                    $('#alert-wait').slideUp(); 
                   $('#alert-suc').show().delay(2000).slideUp(); 

                  
                }else if(response.status == 203){
                  $('#chkmsg').show().delay(2000).fadeOut();
                   $('#alert-wait').slideUp(); 
                 
                }
              },
              error: function (response) {
            
                  $('#alert-wait').slideUp(); 
                  $('#alert-err').show().delay(2000).slideUp();
                  }

            }); 
    }
}
   


  $(document).on('click', '.remvmyclass', function(){  
removethiscls(this.id);
 
});

function removethiscls(getid){
   var catid = getid;
  //console.log(catid);

           $('#alert-wait').show();
                  var dataString = 'catid='+ catid;
               
            jQuery.ajax({
              type: "POST",
              url: base_url +'dashboard/Remocemyclas',
              data: dataString,
              dataType: 'json',
              cache: false,
              success: function(response)
              {
                if(response.status == 200){ 
                
                 $("#clselem_"+catid).remove();

                  $('#alert-wait').slideUp(); 
                   $('#alert-suc').show().delay(2000).slideUp(); 
               
                }else if(response.status == 203){
                  $('#alert-wait').slideUp(); 
                  $('#alert-err').show().delay(2000).slideUp();
                 
                }
              },
              error: function (response) {
            
                  $('#alert-wait').slideUp(); 
                $('#alert-err').delay(2000).show().slideUp();
                  }

            }); 
}

$(document).on('click', '.modirysub', function(){
   var id = this.id;
        $('#alert-wait').show();
         $('.allchkdy').prop("checked", false);
         $('.cus-input').val('');
                  var dataString = 'clasuid='+ id;
               
            jQuery.ajax({
              type: "POST",
              url: base_url +'dashboard/Getsinglclas',
              data: dataString,
              dataType: 'json',
              cache: false,
              success: function(data)
              {
               console.log(data);
                
                  $.each(data, function( key, value ) {
                    var chkday = value.day_nm.toLowerCase();
                   
                    $('#'+chkday).prop("checked", true);
                    $('#'+chkday+'_time').val(value.tim_fmt.split(':')[0]+':'+value.tim_fmt.split(':')[1]); 
                    $('#'+chkday+'_time_to').val(value.tim_fmt_to.split(':')[0]+':'+value.tim_fmt_to.split(':')[1]); 
                    $('#classname').keyup();
                    $('#classname').val(value.clas_title);
                    $('#clasuid').val(value.class_uid);
                    $('#subjid_'+value.sub_ids).attr('checked', true);
                    subjarr=value.sub_ids+'_'+value.cours_id;
                    $('#graysub').hide();
                    $('#grnsub').show();
                

                  });

                    $('#alert-wait').slideUp(); 
                 
              
              },
              error: function (data) {
            
                  $('#alert-wait').slideUp(); 
                  $('#alert-err').show().delay(2000).slideUp();
                  }

            }); 
         // $('#mycours').val(mycrsid).trigger('change');
         // $('#entersub').val(subjectnm);
         // $('#thisubid').val(subjid);
});
 











 var subjarr;
    function chksubval(subid){
       var thisval = $('#subjid_'+subid).val();
       
        subjarr=thisval;
        console.log(subjarr);
     
       

          if(subjarr.length <= 0){
            $('#grnsub').hide();
            $('#graysub').show();
          }else{
            $('#graysub').hide();
            $('#grnsub').show();
          }
    } 




var timearry = new Array();
$(document).on('click', '#letmaketimary', function(){
  timearry = new Array();
     var checkBoxMndy = document.getElementById("monday");
     var checkBoxTues = document.getElementById("tuesday");
     var checkBoxWed = document.getElementById("wednesday");
     var checkBoxThus = document.getElementById("thursday");
     var checkBoxFri = document.getElementById("friday");
     var checkBoxSatu = document.getElementById("saturday");
     var checkBoxSund = document.getElementById("sunday");
     var mondytim = $('#monday_time').val();
     var tuedytim = $('#tuesday_time').val();
     var weddytim = $('#wednesday_time').val();
     var thudytim = $('#thursday_time').val();
     var fridytim = $('#friday_time').val();
     var satdytim = $('#saturday_time').val();
     var sundytim = $('#sunday_time').val(); 

     var mondytimto = $('#monday_time_to').val();
     var tuedytimto = $('#tuesday_time_to').val();
     var weddytimto = $('#wednesday_time_to').val();
     var thudytimto = $('#thursday_time_to').val();
     var fridytimto = $('#friday_time_to').val();
     var satdytimto = $('#saturday_time_to').val();
     var sundytimto = $('#sunday_time_to').val();

       if(checkBoxMndy.checked == true && mondytim && mondytimto){
        var put_mn_tim = 'Monday_'+mondytim+'_'+mondytimto;
        timearry.push(put_mn_tim);
       }
       if(checkBoxTues.checked == true && tuedytim && tuedytimto){
        var put_tu_tim = 'Tuesday_'+tuedytim+'_'+tuedytimto;
        timearry.push(put_tu_tim);
       }
       if(checkBoxWed.checked == true && weddytim && weddytimto){
        var put_we_tim = 'Wednesday_'+weddytim+'_'+weddytimto;
        timearry.push(put_we_tim);
       }
       if(checkBoxThus.checked == true && thudytim && thudytimto){
        var put_th_tim = 'Thursday_'+thudytim+'_'+thudytimto;
        timearry.push(put_th_tim);
       }
       if(checkBoxFri.checked == true && fridytim && fridytimto){
        var put_fr_tim = 'Friday_'+fridytim+'_'+fridytimto;
        timearry.push(put_fr_tim);
       }
       if(checkBoxSatu.checked == true && satdytim && satdytimto){
        var put_sa_tim = 'Saturday_'+satdytim+'_'+satdytimto;
        timearry.push(put_sa_tim);
       }
       if(checkBoxSund.checked == true && sundytim && sundytimto){
        var put_sn_tim = 'Sunday_'+sundytim+'_'+sundytimto;
        timearry.push(put_sn_tim);
       }

  // console.log(timearry);

     savetime();
});







  
    </script>